<div><style type="text/css">.sheet .disabled{background:#eee;color:#777}.sheet .hl{border-bottom:2px solid #000}.sheet .name-field{white-space:normal;word-break:break-all}</style><script type="@plotdb/block">var mod;module.exports={pkg:{name:"@makeform/budget",extend:{name:"@makeform/common"},dependencies:[{name:"@plotdb/sheet"},{name:"@plotdb/sheet",type:"css"}],i18n:{en:{"單位":"unit"},"zh-TW":{unit:"單位"}}},init:function(n){return n.pubsub.fire("subinit",{mod:mod(n)})}};mod=function(n){var t,e,r,o,u,a,l;t=n.root,e=n.ctx,r=n.data,o=n.parent,u=n.t;a=e.sheet;l={};return{init:function(){var i,e=this;return i=new ldview({root:t,init:{sheet:function(n){var t,e,o;t=n.node,e=n.ctx;o=new a({root:t,slider:true,data:[["品項","單價","數量","金額"]],frozen:{row:1},size:{col:["250px"]},class:{row:["hl"]},cellcfg:function(n){var t,e,r;t=n.row,e=n.col,r=n.type;if(r==="readonly"){return e===3||t===0}if(r==="class"){if(e===3||t===0){return"disabled"}if(e===0){return"name-field"}return""}}});return o.on("change",function(){var n,t,e,r;n=o.data();l.total=0;for(t=1,e=n.length;t<e;++t){r=t;n[r][3]=n[r][1]!=null&&n[r][2]!=null?+n[r][1]*n[r][2]:"";l.total+=n[r][3]!=null&&!isNaN(n[r][3])?+n[r][3]:0}o.data(n);return i.render("total")})}},text:{total:function(n){var t;t=n.node;return l.total||0},unit:function(n){var t;t=n.node;return u(e.mod.info.config.unit||"")}}})},render:function(){},isEmpty:function(n){return true},isEqual:function(n,t){return false},content:function(n){return{}}}};</script><div class="form-group has-tips manual" ld="base error-root" plug="widget" style="cursor:default"><div ld="display" data-display="block"><label class="d-flex align-items-end flex-wrap"><div><span ld="label"></span><span class="text-danger ml-2" ld="is-required">*</span></div><div class="flex-grow-1"></div><div class="m-edit"><div class="text-danger text-sm" ld="limitation"></div></div></label></div><div class="text-sm text-muted" ld="display" data-display="block"><div ld="desc" style="margin:-.6em 0 .7em"></div></div><div class="rounded shadow-sm border mb-2 aspect-ratio ratio-3by2 w-100" ld="sheet"></div><div class="d-flex g-2 align-items-end"><div>總金額:</div><div ld="total"></div><div class="text-sm text-muted" ld="unit"></div></div><div class="m-edit" ld="display" data-display="block"><div class="text-danger text-sm mt-2 note" ld-each="note"></div></div></div></div>
